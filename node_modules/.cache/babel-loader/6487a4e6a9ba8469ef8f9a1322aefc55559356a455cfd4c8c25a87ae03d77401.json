{"ast":null,"code":"var _jsxFileName = \"/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/topdrinks/TopDrinks.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport './TopDrinks.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TopDrinks({\n  data,\n  nutrient\n}) {\n  _s();\n  const svgRef = useRef();\n  const [order, setOrder] = useState('highest');\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n    const sorted = [...data].sort((a, b) => order === 'highest' ? b[nutrient] - a[nutrient] : a[nutrient] - b[nutrient]).slice(0, 10);\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    const width = 580;\n    const height = 360;\n    const margin = {\n      top: 40,\n      right: 20,\n      bottom: 120,\n      left: 70\n    };\n    svg.attr('width', width).attr('height', height);\n    const x = d3.scaleBand().domain(sorted.map(d => d.name)).range([0, width - margin.left - margin.right]).padding(0.2);\n    const y = d3.scaleLinear().domain([0, d3.max(sorted, d => d[nutrient])]).range([height - margin.top - margin.bottom, 0]).nice();\n    const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n    g.selectAll('rect').data(sorted).enter().append('rect').attr('x', d => x(d.name)).attr('y', d => y(d[nutrient])).attr('width', x.bandwidth()).attr('height', d => height - margin.top - margin.bottom - y(d[nutrient])).attr('fill', '#00704A').on('mouseover', function (event, d) {\n      d3.select('#tooltip').style('opacity', 1).html(`<strong>${d.name}</strong><br/>\n                 ${nutrient}: ${d[nutrient]}<br/>\n                 Sugars: ${d.sugars}g<br/>\n                 Caffeine: ${d.caffeine}mg`).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 40 + 'px');\n    }).on('mouseout', () => d3.select('#tooltip').style('opacity', 0));\n    g.append('g').call(d3.axisLeft(y).ticks(5));\n    g.append('g').attr('transform', `translate(0, ${height - margin.top - margin.bottom})`).call(d3.axisBottom(x)).selectAll('text').attr('transform', 'rotate(-45)').style('text-anchor', 'end').style('font-size', '11px');\n  }, [data, nutrient, order]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"top-drinks-chart\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Top Drinks by \", nutrient]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: order,\n        onChange: e => setOrder(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"highest\",\n          children: \"Highest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"lowest\",\n          children: \"Lowest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"tooltip\",\n      className: \"tooltip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n}\n_s(TopDrinks, \"3ZEQN40mTeFy1dd49dQf63buDnI=\");\n_c = TopDrinks;\nexport default TopDrinks;\nvar _c;\n$RefreshReg$(_c, \"TopDrinks\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","TopDrinks","data","nutrient","_s","svgRef","order","setOrder","length","sorted","sort","a","b","slice","svg","select","current","selectAll","remove","width","height","margin","top","right","bottom","left","attr","x","scaleBand","domain","map","d","name","range","padding","y","scaleLinear","max","nice","g","append","enter","bandwidth","on","event","style","html","sugars","caffeine","pageX","pageY","call","axisLeft","ticks","axisBottom","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","ref","id","_c","$RefreshReg$"],"sources":["/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/topdrinks/TopDrinks.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport './TopDrinks.css';\n\nfunction TopDrinks({ data, nutrient }) {\n    const svgRef = useRef();\n    const [order, setOrder] = useState('highest');\n\n    useEffect(() => {\n        if (!data || data.length === 0) return;\n\n        const sorted = [...data]\n            .sort((a, b) => order === 'highest' ? b[nutrient] - a[nutrient] : a[nutrient] - b[nutrient])\n            .slice(0, 10);\n\n        const svg = d3.select(svgRef.current);\n        svg.selectAll('*').remove();\n\n        const width = 580;\n        const height = 360;\n        const margin = { top: 40, right: 20, bottom: 120, left: 70 };\n\n        svg.attr('width', width).attr('height', height);\n\n        const x = d3.scaleBand()\n            .domain(sorted.map(d => d.name))\n            .range([0, width - margin.left - margin.right])\n            .padding(0.2);\n\n        const y = d3.scaleLinear()\n            .domain([0, d3.max(sorted, d => d[nutrient])])\n            .range([height - margin.top - margin.bottom, 0])\n            .nice();\n\n        const g = svg.append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n        g.selectAll('rect')\n            .data(sorted)\n            .enter()\n            .append('rect')\n            .attr('x', d => x(d.name))\n            .attr('y', d => y(d[nutrient]))\n            .attr('width', x.bandwidth())\n            .attr('height', d => height - margin.top - margin.bottom - y(d[nutrient]))\n            .attr('fill', '#00704A')\n            .on('mouseover', function (event, d) {\n                d3.select('#tooltip')\n                    .style('opacity', 1)\n                    .html(`<strong>${d.name}</strong><br/>\n                 ${nutrient}: ${d[nutrient]}<br/>\n                 Sugars: ${d.sugars}g<br/>\n                 Caffeine: ${d.caffeine}mg`)\n                    .style('left', event.pageX + 10 + 'px')\n                    .style('top', event.pageY - 40 + 'px');\n            })\n            .on('mouseout', () => d3.select('#tooltip').style('opacity', 0));\n\n        g.append('g')\n            .call(d3.axisLeft(y).ticks(5));\n\n        g.append('g')\n            .attr('transform', `translate(0, ${height - margin.top - margin.bottom})`)\n            .call(d3.axisBottom(x))\n            .selectAll('text')\n            .attr('transform', 'rotate(-45)')\n            .style('text-anchor', 'end')\n            .style('font-size', '11px');\n\n    }, [data, nutrient, order]);\n\n    return (\n        <div className=\"top-drinks-chart\">\n            <div className=\"chart-header\">\n                <h3>Top Drinks by {nutrient}</h3>\n                <select value={order} onChange={e => setOrder(e.target.value)}>\n                    <option value=\"highest\">Highest</option>\n                    <option value=\"lowest\">Lowest</option>\n                </select>\n            </div>\n            <svg ref={svgRef}></svg>\n            <div id=\"tooltip\" className=\"tooltip\" />\n        </div>\n    );\n}\n\nexport default TopDrinks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}