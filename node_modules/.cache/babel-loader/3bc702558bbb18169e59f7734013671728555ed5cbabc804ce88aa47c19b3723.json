{"ast":null,"code":"var _jsxFileName = \"/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/topdrinks/TopDrinks.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport './TopDrinksChart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TopDrinksChart({\n  data,\n  nutrient,\n  order\n}) {\n  _s();\n  const svgRef = useRef();\n  useEffect(() => {\n    if (!data || data.length === 0) return;\n    const top = [...data].sort((a, b) => order === 'highest' ? b[nutrient] - a[nutrient] : a[nutrient] - b[nutrient]).slice(0, 5);\n    const width = 500;\n    const height = 300;\n    const margin = {\n      top: 30,\n      right: 20,\n      bottom: 50,\n      left: 120\n    };\n    const svg = d3.select(svgRef.current);\n    svg.selectAll('*').remove();\n    svg.attr('width', width).attr('height', height);\n    const x = d3.scaleLinear().domain([0, d3.max(top, d => d[nutrient])]).range([0, width - margin.left - margin.right]);\n    const y = d3.scaleBand().domain(top.map(d => d.name)).range([0, height - margin.top - margin.bottom]).padding(0.2);\n    const g = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n    g.selectAll('rect').data(top).enter().append('rect').attr('x', 0).attr('y', d => y(d.name)).attr('width', d => x(d[nutrient])).attr('height', y.bandwidth()).attr('fill', '#00704A').on('mouseover', function (event, d) {\n      const tooltip = d3.select('#tooltip');\n      tooltip.style('opacity', 1).html(`<strong>${d.name}</strong><br/>${nutrient}: ${d[nutrient]} g`).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 20 + 'px');\n    }).on('mouseout', () => d3.select('#tooltip').style('opacity', 0));\n    g.append('g').call(d3.axisLeft(y));\n    g.append('g').attr('transform', `translate(0, ${height - margin.top - margin.bottom})`).call(d3.axisBottom(x).ticks(5));\n  }, [data, nutrient, order]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"top-drinks-chart\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"tooltip\",\n      className: \"tooltip\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(TopDrinksChart, \"89Ty783ABEwsfMbSOeu9vscWF34=\");\n_c = TopDrinksChart;\nexport default TopDrinksChart;\nvar _c;\n$RefreshReg$(_c, \"TopDrinksChart\");","map":{"version":3,"names":["React","useEffect","useRef","d3","jsxDEV","_jsxDEV","TopDrinksChart","data","nutrient","order","_s","svgRef","length","top","sort","a","b","slice","width","height","margin","right","bottom","left","svg","select","current","selectAll","remove","attr","x","scaleLinear","domain","max","d","range","y","scaleBand","map","name","padding","g","append","enter","bandwidth","on","event","tooltip","style","html","pageX","pageY","call","axisLeft","axisBottom","ticks","className","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/topdrinks/TopDrinks.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport './TopDrinksChart.css';\n\nfunction TopDrinksChart({ data, nutrient, order }) {\n    const svgRef = useRef();\n\n    useEffect(() => {\n        if (!data || data.length === 0) return;\n\n        const top = [...data]\n            .sort((a, b) => order === 'highest' ? b[nutrient] - a[nutrient] : a[nutrient] - b[nutrient])\n            .slice(0, 5);\n\n        const width = 500;\n        const height = 300;\n        const margin = { top: 30, right: 20, bottom: 50, left: 120 };\n\n        const svg = d3.select(svgRef.current);\n        svg.selectAll('*').remove();\n\n        svg.attr('width', width).attr('height', height);\n\n        const x = d3.scaleLinear()\n            .domain([0, d3.max(top, d => d[nutrient])])\n            .range([0, width - margin.left - margin.right]);\n\n        const y = d3.scaleBand()\n            .domain(top.map(d => d.name))\n            .range([0, height - margin.top - margin.bottom])\n            .padding(0.2);\n\n        const g = svg.append('g').attr('transform', `translate(${margin.left}, ${margin.top})`);\n\n        g.selectAll('rect')\n            .data(top)\n            .enter()\n            .append('rect')\n            .attr('x', 0)\n            .attr('y', d => y(d.name))\n            .attr('width', d => x(d[nutrient]))\n            .attr('height', y.bandwidth())\n            .attr('fill', '#00704A')\n            .on('mouseover', function (event, d) {\n                const tooltip = d3.select('#tooltip');\n                tooltip.style('opacity', 1)\n                    .html(`<strong>${d.name}</strong><br/>${nutrient}: ${d[nutrient]} g`)\n                    .style('left', event.pageX + 10 + 'px')\n                    .style('top', event.pageY - 20 + 'px');\n            })\n            .on('mouseout', () => d3.select('#tooltip').style('opacity', 0));\n\n        g.append('g').call(d3.axisLeft(y));\n        g.append('g').attr('transform', `translate(0, ${height - margin.top - margin.bottom})`)\n            .call(d3.axisBottom(x).ticks(5));\n\n    }, [data, nutrient, order]);\n\n    return (\n        <div className=\"top-drinks-chart\">\n            <svg ref={svgRef}></svg>\n            <div id=\"tooltip\" className=\"tooltip\" />\n        </div>\n    );\n}\n\nexport default TopDrinksChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}