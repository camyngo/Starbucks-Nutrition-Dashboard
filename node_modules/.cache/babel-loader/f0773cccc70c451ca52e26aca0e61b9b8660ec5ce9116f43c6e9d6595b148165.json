{"ast":null,"code":"var _jsxFileName = \"/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/bubblechart/BubbleChart.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { formatLabel } from '../../data/DrinkNutritionModel';\nimport './BubbleChart.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BubbleChart({\n  onBubbleClick,\n  nutrient\n}) {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    const dummy = [{\n      type: 'Espresso',\n      avg: nutrient === 'caffeine' ? 90 : 10\n    }, {\n      type: 'Frappuccino',\n      avg: nutrient === 'caffeine' ? 60 : 20\n    }, {\n      type: 'Tea',\n      avg: nutrient === 'caffeine' ? 40 : 15\n    }];\n    const svg = d3.select(ref.current);\n    svg.selectAll('*').remove();\n    const width = svg.node().getBoundingClientRect().width;\n    const height = svg.node().getBoundingClientRect().height;\n    const scale = d3.scaleSqrt().domain([0, d3.max(dummy, d => d.avg)]).range([20, 60]);\n    const simulation = d3.forceSimulation(dummy).force('x', d3.forceX(width / 2).strength(0.05)).force('y', d3.forceY(height / 2).strength(0.05)).force('collide', d3.forceCollide(d => scale(d.avg) + 4)).stop();\n    for (let i = 0; i < 100; ++i) simulation.tick();\n    const g = svg.selectAll('g').data(dummy).enter().append('g').attr('transform', d => `translate(${d.x},${d.y})`).style('cursor', 'pointer').on('click', (_, d) => onBubbleClick(d.type));\n    g.append('circle').attr('r', d => scale(d.avg)).attr('fill', 'orange').attr('opacity', 0.8);\n    g.append('text').attr('text-anchor', 'middle').attr('dy', '.35em').style('font-size', '14px').style('fill', '#333').text(d => d.type);\n  }, [nutrient]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bubble-chart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Average \", formatLabel(nutrient), \" by Type\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: ref\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n_s(BubbleChart, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = BubbleChart;\nexport default BubbleChart;\nvar _c;\n$RefreshReg$(_c, \"BubbleChart\");","map":{"version":3,"names":["useEffect","useRef","d3","formatLabel","jsxDEV","_jsxDEV","BubbleChart","onBubbleClick","nutrient","_s","ref","dummy","type","avg","svg","select","current","selectAll","remove","width","node","getBoundingClientRect","height","scale","scaleSqrt","domain","max","d","range","simulation","forceSimulation","force","forceX","strength","forceY","forceCollide","stop","i","tick","g","data","enter","append","attr","x","y","style","on","_","text","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/marlin/Desktop/Demeter/finalproject/starbucksnutritiondashboard/src/components/bubblechart/BubbleChart.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport * as d3 from 'd3';\nimport { formatLabel } from '../../data/DrinkNutritionModel';\nimport './BubbleChart.css';\n\nfunction BubbleChart({ onBubbleClick, nutrient }) {\n    const ref = useRef();\n\n    useEffect(() => {\n        const dummy = [\n            { type: 'Espresso', avg: nutrient === 'caffeine' ? 90 : 10 },\n            { type: 'Frappuccino', avg: nutrient === 'caffeine' ? 60 : 20 },\n            { type: 'Tea', avg: nutrient === 'caffeine' ? 40 : 15 },\n        ];\n\n        const svg = d3.select(ref.current);\n        svg.selectAll('*').remove();\n\n        const width = svg.node().getBoundingClientRect().width;\n        const height = svg.node().getBoundingClientRect().height;\n\n        const scale = d3.scaleSqrt()\n            .domain([0, d3.max(dummy, d => d.avg)])\n            .range([20, 60]);\n\n        const simulation = d3.forceSimulation(dummy)\n            .force('x', d3.forceX(width / 2).strength(0.05))\n            .force('y', d3.forceY(height / 2).strength(0.05))\n            .force('collide', d3.forceCollide(d => scale(d.avg) + 4))\n            .stop();\n\n        for (let i = 0; i < 100; ++i) simulation.tick();\n\n        const g = svg.selectAll('g')\n            .data(dummy)\n            .enter()\n            .append('g')\n            .attr('transform', d => `translate(${d.x},${d.y})`)\n            .style('cursor', 'pointer')\n            .on('click', (_, d) => onBubbleClick(d.type));\n\n        g.append('circle')\n            .attr('r', d => scale(d.avg))\n            .attr('fill', 'orange')\n            .attr('opacity', 0.8);\n\n        g.append('text')\n            .attr('text-anchor', 'middle')\n            .attr('dy', '.35em')\n            .style('font-size', '14px')\n            .style('fill', '#333')\n            .text(d => d.type);\n\n    }, [nutrient]);\n\n    return (\n        <div className=\"bubble-chart-container\">\n            <h3>Average {formatLabel(nutrient)} by Type</h3>\n            <svg ref={ref}></svg>\n        </div>\n    );\n}\n\nexport default BubbleChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}